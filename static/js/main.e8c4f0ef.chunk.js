(this["webpackJsonptoolkit-food"]=this["webpackJsonptoolkit-food"]||[]).push([[0],{11:function(e,t,r){e.exports={mealMainDescription:"SingleMealItem_mealMainDescription__3P-0B",mealMainDescriptionImg:"SingleMealItem_mealMainDescriptionImg__tQ7nW",mealMainDescriptionInstruction:"SingleMealItem_mealMainDescriptionInstruction__2p3zB",mealIngredients:"SingleMealItem_mealIngredients__GRrD-",videoHeading:"SingleMealItem_videoHeading__1Vm2h"}},15:function(e,t,r){e.exports={container:"LoadableImage_container__3P7be",load:"LoadableImage_load__XTTdu",containerLoaded:"LoadableImage_containerLoaded__35JwQ",image:"LoadableImage_image__3q5C_",imageLoaded:"LoadableImage_imageLoaded__2r-9V"}},24:function(e,t,r){e.exports={alertMessage:"Alert_alertMessage__3g1BV"}},29:function(e,t,r){},41:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),a=r(16),s=r.n(a),i=(r(29),r(3)),o=r(2),l=r(0),d=function(){return Object(l.jsx)("nav",{className:"green darken-2",children:Object(l.jsxs)("div",{className:"nav-wrapper",children:[Object(l.jsx)(i.b,{to:"/",className:"brand-logo",children:"Food"}),Object(l.jsxs)("ul",{id:"nav-mobile",className:"right hide-on-med-and-down",children:[Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/",children:"Home"})}),Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/about",children:"About"})}),Object(l.jsx)("li",{children:Object(l.jsx)(i.b,{to:"/contacts",children:"Contacts"})})]})]})})},u=function(){return Object(l.jsx)("footer",{className:"page-footer green darken-2",children:Object(l.jsx)("div",{className:"footer-copyright green darken-2",children:Object(l.jsxs)("div",{className:"container",children:["\xa9 ",(new Date).getFullYear()," Copyright Text",Object(l.jsx)("a",{className:"grey-text text-lighten-4 right",href:"https://andrey-golubenko.github.io/react-food/",target:"_blank",rel:"noreferrer",children:"Repo"})]})})})},j=r(14),b=r(13),h=function(){return Object(b.b)()},f=b.c;var m=r(9),O=r.n(m),x=r(17),p=r(8),g="https://www.themealdb.com/api/json/v1/".concat("1","/"),v=Object(p.b)("categories/fetchCategories",Object(x.a)(O.a.mark((function e(){var t,r,n,c,a,s=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:null,r=s.length>1?s[1]:void 0,n=r.rejectWithValue,e.prev=2,e.next=5,fetch(g+"categories.php");case 5:if((c=e.sent).ok){e.next=8;break}throw new Error("Server error");case 8:return e.next=10,c.json();case 10:if(a=e.sent,!t){e.next=15;break}return e.abrupt("return",a.categories.filter((function(e){return e.strCategory.toLowerCase().includes(t.split("=")[1].toLowerCase())})));case 15:return e.abrupt("return",a.categories);case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(2),e.abrupt("return",n(e.t0.message));case 21:case"end":return e.stop()}}),e,null,[[2,18]])})))),N=Object(p.b)("meals/fetchMeals",function(){var e=Object(x.a)(O.a.mark((function e(t,r){var n,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,fetch(g+"filter.php?c="+t);case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("Server error");case 7:return e.next=9,c.json();case 9:return a=e.sent,e.abrupt("return",a.meals);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",n(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,r){return e.apply(this,arguments)}}()),y=Object(p.b)("singleMeal/fetchSingleMeal",function(){var e=Object(x.a)(O.a.mark((function e(t,r){var n,c,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.rejectWithValue,e.prev=1,e.next=4,fetch(g+"lookup.php?i="+t);case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("Server error");case 7:return e.next=9,c.json();case 9:return a=e.sent,e.abrupt("return",a.meals[0]);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",n(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,r){return e.apply(this,arguments)}}()),M=Object(p.c)({name:"food",initialState:{categories:[],meals:[],singleMeal:{},status:null,error:null,searchVal:""},reducers:{setSearchVal:function(e,t){e.searchVal=t.payload}},extraReducers:function(e){e.addCase(v.pending,(function(e,t){e.status="loading",e.error=null})).addCase(v.fulfilled,(function(e,t){e.status="resolved",e.categories=t.payload})).addCase(v.rejected,(function(e,t){e.status="rejected",e.error=t.payload})).addCase(N.pending,(function(e,t){e.status="loading",e.error=null})).addCase(N.fulfilled,(function(e,t){e.status="resolved",e.meals=t.payload})).addCase(N.rejected,(function(e,t){e.status="rejected",e.error=t.payload})).addCase(y.pending,(function(e,t){e.status="loading",e.error=null})).addCase(y.fulfilled,(function(e,t){e.status="resolved",e.singleMeal=t.payload})).addCase(y.rejected,(function(e,t){e.status="rejected",e.error=t.payload}))}}),_=M.actions.setSearchVal,w=M.reducer,k=r(7),C=r(15),I=r.n(C),S=function(e){var t=e.src,r=e.alt,c=void 0===r?"":r,a=e.onLoad,s=void 0===a?function(){}:a,i=Object(n.useState)(!1),o=Object(j.a)(i,2),d=o[0],u=o[1],b=Object(n.useRef)(null),h=Object(n.useRef)(null),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px",r=Object(n.useState)(!1),c=Object(j.a)(r,2),a=c[0],s=c[1];return Object(n.useEffect)((function(){var r=new IntersectionObserver((function(e){var t=Object(j.a)(e,1)[0];s(t.isIntersecting)}),{rootMargin:t});e.current&&r.observe(e.current);var n=e.current;return function(){r.unobserve(n)}}),[]),a}(h);Object(n.useEffect)((function(){f&&!d&&b.current&&(b.current.onload=function(){u(!0),s()})}),[f,s,d]);var m=[I.a.container];d&&m.push(I.a.containerLoaded);var O=[I.a.image];return d&&O.push(I.a.imageLoaded),Object(l.jsx)("div",{ref:h,className:m.join(" "),children:(f||d)&&Object(l.jsx)("img",{ref:b,className:O.join(" "),src:t,alt:c})})},L=function(e){var t=e.idCategory,r=e.strCategory,n=e.strCategoryThumb,c=e.strCategoryDescription;return Object(l.jsxs)("div",{className:"card",id:t,children:[Object(l.jsx)("div",{className:"card-image",children:Object(l.jsx)(S,{src:n})}),Object(l.jsxs)("div",{className:"card-content",children:[Object(l.jsx)("span",{className:"card-title",children:r}),Object(l.jsxs)("p",{children:[c.slice(0,70),"\xa0\xa0.\xa0.\xa0."]})]}),Object(l.jsx)("div",{className:"card-action",children:Object(l.jsx)(i.b,{to:"/category/".concat(r),className:"btn",children:"Watch category"})})]})},D=function(){var e=f((function(e){return e.food.categories}));return Object(l.jsx)("div",{className:"list",children:e.map((function(e){return Object(l.jsx)(L,Object(k.a)({},e),e.idCategory)}))})},V=function(){var e=Object(n.useRef)(null),t=h(),r=f((function(e){return e.food.searchVal})),c=Object(o.g)().pathname,a=Object(o.f)().push,s=function(){a({pathname:c,search:"?search=".concat(e.current.value)}),t(_(""))};return Object(l.jsx)("div",{className:"row",children:Object(l.jsxs)("div",{className:"input-field search-field",children:[Object(l.jsx)("input",{ref:e,type:"search",placeholder:"search category",onKeyPress:function(e){"Enter"===e.key&&s()},onChange:function(e){t(_(e.target.value))},value:r}),Object(l.jsx)("button",{className:"btn search-btn",onClick:s,children:"Search"})]})})},E=function(){return Object(l.jsx)("div",{className:"progress green accent-1",children:Object(l.jsx)("div",{className:"indeterminate green darken-3"})})},A=r(24),T=r.n(A),B=function(){var e=f((function(e){return e.food.error}));return Object(l.jsxs)("div",{className:T.a.alertMessage,role:"alert",children:["An error occurred : ",e,"!"]})},F=function(){var e=h(),t=f((function(e){return e.food.status})),r=f((function(e){return e.food.error})),c=Object(o.g)().search;return Object(n.useEffect)((function(){e(v(c))}),[c,e]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(V,{}),"loading"===t&&Object(l.jsx)(E,{}),r&&Object(l.jsx)(B,{}),Object(l.jsx)(D,{})]})},R=function(){return Object(l.jsx)("h1",{children:"Hello from About"})},H=function(){return Object(l.jsx)("h1",{children:"Hello from CONTACTS"})},W=function(e){var t=e.strMeal,r=e.strMealThumb,n=e.idMeal;return Object(l.jsxs)("div",{className:"card",id:n,children:[Object(l.jsx)("div",{className:"card-image",children:Object(l.jsx)(S,{src:r})}),Object(l.jsx)("div",{className:"card-content",children:Object(l.jsx)("span",{className:"card-title",children:t})}),Object(l.jsx)("div",{className:"card-action",children:Object(l.jsx)(i.b,{to:"/meal/".concat(n),className:"btn",children:"Watch recipe"})})]})},P=function(){var e=f((function(e){return e.food.meals}));return Object(l.jsx)("div",{className:"list",children:e.map((function(e){return Object(l.jsx)(W,Object(k.a)({},e),e.idMeal)}))})},J=function(){var e=Object(o.h)().name,t=h(),r=f((function(e){return e.food.status})),c=f((function(e){return e.food.error}));return Object(n.useEffect)((function(){t(N(e))}),[e,t]),Object(l.jsxs)(l.Fragment,{children:["loading"===r&&Object(l.jsx)(E,{}),c&&Object(l.jsx)(B,{}),Object(l.jsx)(P,{})]})},Y=function(){return Object(l.jsx)("h1",{children:"Page 404"})},G=r(11),Q=r.n(G),q=function(){var e=f((function(e){return e.food.singleMeal}));return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"singleMeal",children:[Object(l.jsxs)("div",{className:Q.a.mealMainDescription,children:[Object(l.jsx)("div",{className:Q.a.mealMainDescriptionImg,children:Object(l.jsx)(S,{src:e.strMealThumb})}),Object(l.jsx)("h4",{children:e.strMeal}),Object(l.jsxs)("h5",{children:["Category : ",e.strCategory]}),e.strArea?Object(l.jsxs)("h5",{children:["Area from : ",e.strArea]}):null,Object(l.jsx)("h5",{children:"Cooking instructions :"}),Object(l.jsx)("p",{className:Q.a.mealMainDescriptionInstruction,children:e.strInstructions})]}),Object(l.jsxs)("table",{className:Q.a.mealIngredients,children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"Ingredient"}),Object(l.jsx)("th",{children:"Measure"})]})}),Object(l.jsx)("tbody",{children:Object.keys(e).map((function(t){return t.includes("Ingredient")&&e[t]?Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:e[t]}),Object(l.jsx)("td",{children:e["strMeasure".concat(t.slice(13))]})]},t):null}))})]}),e.strYoutube?Object(l.jsxs)("div",{className:"row",children:[Object(l.jsx)("h5",{className:Q.a.videoHeading,children:"Recipe video : "}),Object(l.jsx)("iframe",{title:e.idMeal,src:"https://www.youtube.com/embed/".concat(e.strYoutube.slice(-11)),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]}):null]})})},z=function(){var e=Object(o.h)().id,t=Object(o.f)().goBack,r=h(),c=f((function(e){return e.food.status})),a=f((function(e){return e.food.error}));return Object(n.useEffect)((function(){r(y(e))}),[e,r]),Object(l.jsxs)("div",{className:"center",children:["loading"===c&&Object(l.jsx)(E,{}),a?Object(l.jsx)(B,{}):Object(l.jsx)(q,{}),Object(l.jsx)("button",{className:"btn",onClick:t,children:"Go Back"})]})};var K=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(i.a,{basename:"/react-food",children:[Object(l.jsx)(d,{}),Object(l.jsx)("main",{className:"container content",children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",component:F}),Object(l.jsx)(o.a,{path:"/about",component:R}),Object(l.jsx)(o.a,{path:"/contacts",component:H}),Object(l.jsx)(o.a,{path:"/category/:name",component:J}),Object(l.jsx)(o.a,{path:"/meal/:id",component:z}),Object(l.jsx)(o.a,{component:Y})]})}),Object(l.jsx)(u,{})]})})},X=Object(p.a)({reducer:{food:w}});s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(b.a,{store:X,children:Object(l.jsx)(K,{})})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.e8c4f0ef.chunk.js.map